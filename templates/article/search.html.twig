{% extends 'base.html.twig' %}

{% block title %}Résultats pour "{{ searchQuery }}" - Neurogameron
{% endblock %}

{% block body %}
	<section class="hero-banner mb-5">
		<div class="container py-5">
			<h1 class="display-5 fw-bold">Résultats de recherche</h1>
			<p class="lead">
				{% if articles|length > 0 %}
					{{ articles|length }}
					résultat(s) trouvé(s) pour "<span class="text-primary">{{ searchQuery }}</span>"
				{% else %}
					Aucun résultat pour "<span class="text-danger">{{ searchQuery }}</span>"
				{% endif %}
			</p>
		</div>
	</section>

	<div class="container2">
		{% if articles is empty %}
			<div class="empty-state">
				<div class="empty-icon">
					<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewbox="0 0 16 16">
						<path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
						<path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
					</svg>
				</div>
				<h3>Aucun article disponible</h3>
				<p>Il n'y a pas encore d'articles publiés. Revenez bientôt !</p>
			</div>
		{% else %}
			<div class="articles-grid">
				{% for article in articles %}
					<article class="article-card">
						<div class="article-image {{ not article.imageUrl ? 'no-image' : '' }}">
							{% if article.imageUrl %}
								<img src="{{ article.imageUrl }}" alt="{{ article.title }}" loading="lazy">
							{% else %}
								<div class="placeholder-content">
									<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewbox="0 0 16 16">
										<path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
										<path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
									</svg>
								</div>
							{% endif %}
						</div>

						<div class="article-content">
							<div class="article-meta">
								<span class="article-category">{{ article.category.name }}</span>
								<span class="article-date">{{ article.createdAt|date('d/m/Y') }}</span>
							</div>

							<h2 class="article-title">
								<a href="{{ path('app_article_show', {id: article.id}) }}">{{ article.title }}</a>
							</h2>

							<p class="article-summary">{{ article.summary|length > 150 ? article.summary|slice(0, 150) ~ '...' : article.summary }}</p>

							<div class="article-footer">
								{% if article.authorName is not empty %}
									<span class="article-author">Par
										{{ article.authorName }}</span>
								{% endif %}
								<a href="{{ path('app_article_show', {id: article.id}) }}" class="read-more">
									Lire la suite
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewbox="0 0 16 16">
										<path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
									</svg>
								</a>
							</div>
						</div>
					</article>
				{% endfor %}
			</div>
		{% endif %}
	</div>
{% endblock %}

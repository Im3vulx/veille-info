{% extends 'admin/admin_layout.html.twig' %}

{% block title %}Modifier Utilisateur
{% endblock %}

{% block admin_content %}
	<turbo-frame id="admin-content">
		<div class="container admin-article-view">

			<div class="view-header">
				<div class="breadcrumb">
					<span class="text-muted">Utilisateurs</span>
					<span class="separator">/</span>
					<a href="{{ path('admin_user_show', {id: user.id}) }}">{{ user.email }}</a>
					<span class="separator">/</span>
					<span class="current">Édition</span>
				</div>
				<div class="header-actions">
					<a href="{{ path('admin_user_show', {id: user.id}) }}" class="btn-secondary">Annuler</a>
				</div>
			</div>

			{{ form_start(form) }}
			<div class="article-grid-layout">
				<div class="main-content">
					<div class="content-card" style="padding: 2rem;">
						<h3>Informations de compte</h3>

						<div class="form-group mb-4">
							{{ form_label(form.email, null, {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
							{{ form_errors(form.email) }}
						</div>

						<div class="form-group mb-4">
							{{ form_label(form.username, null, {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
						</div>

					</div>
				</div>

				<div class="sidebar-info">
					<div class="info-card">
						<h3>Sécurité</h3>

						<div class="form-group mb-4">
							{{ form_label(form.roles, null, {'label_attr': {'class': 'form-label', 'style': 'display:block; margin-bottom: 0.5rem;'}}) }}
							<div style="display: flex; flex-direction: column; gap: 0.5rem;">
								{% for child in form.roles %}
									<div class="form-check">
										{{ form_widget(child, {'attr': {'class': 'form-check-input'}}) }}
										{{ form_label(child, null, {'label_attr': {'class': 'form-check-label', 'style': 'margin-left: 0.5rem;'}}) }}
									</div>
								{% endfor %}
							</div>
						</div>

						<hr style="border-color: var(--border-color); margin: 1.5rem 0;">

						<div class="form-group mb-4">
							<div class="form-check form-switch">
								{{ form_widget(form.isVerified, {'attr': {'class': 'form-check-input'}}) }}
								{{ form_label(form.isVerified, null, {'label_attr': {'class': 'form-check-label'}}) }}
							</div>
						</div>

						<button type="submit" class="btn-primary w-100 justify-center">
							Enregistrer
						</button>
					</div>
				</div>
			</div>
			{{ form_end(form) }}
		</div>
	</turbo-frame>
{% endblock %}
